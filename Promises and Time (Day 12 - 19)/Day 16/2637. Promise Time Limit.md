
# ⏳ 2637. Promise Time Limit (প্রমিস টাইম লিমিট)

## 🧠 সমস্যা বিবরণ

তোমাকে একটি **asynchronous function** `fn` এবং একটি টাইম `t` (মিলিসেকেন্ডে) দেওয়া আছে।  
তোমাকে `fn` এর একটি **time-limited version** রিটার্ন করতে হবে।  

**নিয়মগুলো:**

1. যদি `fn` নির্ধারিত `t` মিলিসেকেন্ডের মধ্যে সম্পন্ন হয়,  
   time-limited ফাংশনটি **resolve করবে** মূল রেজাল্ট সহ।
2. যদি `fn` `t` মিলিসেকেন্ডের মধ্যে শেষ না হয়,  
   time-limited ফাংশনটি **reject করবে** `"Time Limit Exceeded"` স্ট্রিং সহ।

> `fn` যে আর্গুমেন্ট নেবে, তা time-limited ফাংশনের মাধ্যমে সরবরাহ করা হবে।  

---

## ⚙️ Function Signature

```js
/**
 * @param {Function} fn - asynchronous function
 * @param {number} t - time limit in milliseconds
 * @return {Function} - time-limited version of fn
 */
var timeLimit = function(fn, t) {
  return async function(...args) {
    return new Promise((resolve, reject) => {
      const timer = setTimeout(() => reject("Time Limit Exceeded"), t);
      fn(...args).then(res => {
        clearTimeout(timer);
        resolve(res);
      }).catch(err => {
        clearTimeout(timer);
        reject(err);
      });
    });
  }
};

```
---
### Example
```js
Example 1:

Input: 
fn = async (n) => { 
  await new Promise(res => setTimeout(res, 100)); 
  return n * n; 
}
inputs = [5]
t = 50
Output: {"rejected":"Time Limit Exceeded","time":50}
Explanation:
const limited = timeLimit(fn, t)
const start = performance.now()
let result;
try {
   const res = await limited(...inputs)
   result = {"resolved": res, "time": Math.floor(performance.now() - start)};
} catch (err) {
   result = {"rejected": err, "time": Math.floor(performance.now() - start)};
}
console.log(result) // Output

The provided function is set to resolve after 100ms. However, the time limit is set to 50ms. It rejects at t=50ms because the time limit was reached.
Example 2:

Input: 
fn = async (n) => { 
  await new Promise(res => setTimeout(res, 100)); 
  return n * n; 
}
inputs = [5]
t = 150
Output: {"resolved":25,"time":100}
Explanation:
The function resolved 5 * 5 = 25 at t=100ms. The time limit is never reached.
Example 3:

Input: 
fn = async (a, b) => { 
  await new Promise(res => setTimeout(res, 120)); 
  return a + b; 
}
inputs = [5,10]
t = 150
Output: {"resolved":15,"time":120}
Explanation:
​​​​The function resolved 5 + 10 = 15 at t=120ms. The time limit is never reached.
Example 4:

Input: 
fn = async () => { 
  throw "Error";
}
inputs = []
t = 1000
Output: {"rejected":"Error","time":0}
Explanation:
The function immediately throws an error.
```

## 🧠 মূল ধারণা

| ধারণা | ব্যাখ্যা |
|--------|----------|
| `Promise` | asynchronous কাজকে হ্যান্ডেল করতে ব্যবহৃত হয় |
| `setTimeout()` | নির্দিষ্ট সময় পরে reject কল করতে ব্যবহৃত হয় |
| `clearTimeout()` | কাজ শেষ হলে টাইমআউট বাতিল করে |
| `Time-Limited Execution` | নির্দিষ্ট সময়ের মধ্যে কাজ শেষ না হলে reject হয় |


## 🧰 ব্যবহার উদাহরণ
```js
const limited = timeLimit(async (n) => {
  await new Promise(res => setTimeout(res, 100));
  return n * n;
}, 50);

try {
  const res = await limited(5);
  console.log({"resolved": res});
} catch(err) {
  console.log({"rejected": err});
}

```























