# ⚡ 2721. Execute Asynchronous Functions in Parallel (অ্যাসিঙ্ক্রোনাস ফাংশন একসাথে চালানো)

## 🧠 সমস্যা বিবরণ

তোমাকে একটি অ্যারে `functions` দেওয়া আছে, যেখানে প্রতিটি item একটি **asynchronous function**।

- প্রতিটি ফাংশন কোন argument নেয় না এবং একটি Promise রিটার্ন করে।
- তোমাকে একটি নতুন Promise রিটার্ন করতে হবে যা সব ফাংশন একসাথে (parallel) execute করবে।

**পদ্ধতি:**

1. **promise resolve হবে:**

   - যখন অ্যারের সব ফাংশন সফলভাবে resolve হবে।
   - resolved value হবে সেই ফাংশনের resolved values এর অ্যারে, original order অনুসারে।

2. **promise reject হবে:**
   - যদি কোনো একটি ফাংশন reject হয়।
   - reject value হবে প্রথম rejection এর reason।

> **নোট:** `Promise.all` ব্যবহার করা যাবে না।

---

## ⚙️ Function Signature

```js
function promiseAll(functions) {
  return new Promise((resolve, reject) => {
    const results = [];
    let completed = 0;
    let hasRejected = false;

    functions.forEach((fn, index) => {
      fn()
        .then((res) => {
          if (hasRejected) return;
          results[index] = res;
          completed++;
          if (completed === functions.length) resolve(results);
        })
        .catch((err) => {
          if (!hasRejected) {
            hasRejected = true;
            reject(err);
          }
        });
    });
  });
}
```

---

## Example

```js
Example 1:

Input: functions = [
  () => new Promise(resolve => setTimeout(() => resolve(5), 200))
]
Output: {"t": 200, "resolved": [5]}
Explanation:
promiseAll(functions).then(console.log); // [5]

The single function was resolved at 200ms with a value of 5.
Example 2:

Input: functions = [
    () => new Promise(resolve => setTimeout(() => resolve(1), 200)),
    () => new Promise((resolve, reject) => setTimeout(() => reject("Error"), 100))
]
Output: {"t": 100, "rejected": "Error"}
Explanation: Since one of the promises rejected, the returned promise also rejected with the same error at the same time.
Example 3:

Input: functions = [
    () => new Promise(resolve => setTimeout(() => resolve(4), 50)),
    () => new Promise(resolve => setTimeout(() => resolve(10), 150)),
    () => new Promise(resolve => setTimeout(() => resolve(16), 100))
]
Output: {"t": 150, "resolved": [4, 10, 16]}
Explanation: All the promises resolved with a value. The returned promise resolved when the last promise resolved.
```

## 🧰 ব্যবহার উদাহরণ

```js
/**************************70ms😎**************************/
function promiseAll(n) {
  return new Promise((t, e) => {
    const { length: c } = n;
    let o = 0;
    const r = [];
    n.forEach((n, h) => {
      n()
        .then((n) => {
          (r[h] = n), o++, o === c && t(r);
        })
        .catch(e);
    });
  });
}
```
