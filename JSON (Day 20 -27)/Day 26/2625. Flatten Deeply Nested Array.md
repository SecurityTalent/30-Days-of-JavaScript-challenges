# ЁЯзй LeetCode 2625: Flatten Deeply Nested Array

## ЁЯУШ рж╕ржорж╕рзНржпрж╛ ржмрж┐ржмрж░ржг (Problem Description)

рждрзЛржорж╛ржХрзЗ ржПржХржЯрж┐ **deeply nested array** ржжрзЗржУрзЯрж╛ рж╣рзЯрзЗржЫрзЗред  
рждрзБржорж┐ ржПржоржи ржПржХржЯрж┐ ржлрж╛ржВрж╢ржи рж▓рж┐ржЦржмрзЗ ржпрж╛ ржПржЗ arrayтАУржХрзЗ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ **depth ржкрж░рзНржпржирзНржд flatten** ржХрж░ржмрзЗред

### ЁЯФ╣ рж╕ржВржХрзНрж╖рзЗржкрзЗ:
ржпржжрж┐ `depth = 1` рж╣рзЯ, рждрж╛рж╣рж▓рзЗ рж╢рзБржзрзБ ржПржХ ржзрж╛ржк ржкрж░рзНржпржирзНржд flatten ржХрж░ржмрзЗред  
ржпржжрж┐ `depth` ржмрзЬ рж╣рзЯ, рждрж╛рж╣рж▓рзЗ ржЖрж░ржУ ржЧржнрзАрж░ рж╕рзНрждрж░ ржкрж░рзНржпржирзНржд flatten ржХрж░ржмрзЗред  
ржпржжрж┐ `depth` ржЕрж╕рзАржо ржмрж╛ ржкрж░рзНржпрж╛ржкрзНржд ржмрзЬ рж╣рзЯ, рждрж╛рж╣рж▓рзЗ ржкрзБрж░рзЛржкрзБрж░рж┐ flatten ржХрж░ржмрзЗред

---

## ЁЯза ржЙржжрж╛рж╣рж░ржг (Examples)

```js
Example 1:

Input
arr = [1, 2, 3, [4, 5, 6], [7, 8, [9, 10, 11], 12], [13, 14, 15]]
n = 0
Output
[1, 2, 3, [4, 5, 6], [7, 8, [9, 10, 11], 12], [13, 14, 15]]

Explanation
Passing a depth of n=0 will always result in the original array. This is because the smallest possible depth of a subarray (0) is not less than n=0. Thus, no subarray should be flattened. 
Example 2:

Input
arr = [1, 2, 3, [4, 5, 6], [7, 8, [9, 10, 11], 12], [13, 14, 15]]
n = 1
Output
[1, 2, 3, 4, 5, 6, 7, 8, [9, 10, 11], 12, 13, 14, 15]

Explanation
The subarrays starting with 4, 7, and 13 are all flattened. This is because their depth of 0 is less than 1. However [9, 10, 11] remains unflattened because its depth is 1.
Example 3:

Input
arr = [[1, 2, 3], [4, 5, 6], [7, 8, [9, 10, 11], 12], [13, 14, 15]]
n = 2
Output
[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15]

Explanation
The maximum depth of any subarray is 1. Thus, all of them are flattened.
 

Constraints:

0 <= count of numbers in arr <= 105
0 <= count of subarrays in arr <= 105
maxDepth <= 1000
-1000 <= each number <= 1000
0 <= n <= 1000
```

### ЁЯТб ржнрж╛ржмржирж╛ (Intuition)

ржЖржорж░рж╛ ржкрзНрж░рждрж┐ржЯрж┐ ржЙржкрж╛ржжрж╛ржи traverse ржХрж░ржмред
ржпржжрж┐ ржЙржкрж╛ржжрж╛ржиржЯрж┐ array рж╣рзЯ ржПржмржВ depth ржПржЦржиржУ 0 ржирж╛ рж╣рзЯ, рждрж╛рж╣рж▓рзЗ рж╕рзЗржЯрж┐ржХрзЗ recursively flatten ржХрж░ржм, depth ржПржХ ржзрж╛ржк ржХржорж┐рзЯрзЗред
ржЕржирзНржпржерж╛рзЯ, рж╕рзЗржЯрж┐ржХрзЗ ъ╖╕ыМАыбЬ ржирждрзБржи arrayтАУрждрзЗ ржпрзЛржЧ ржХрж░ржмред

### ЁЯзо JavaScript рж╕ржорж╛ржзрж╛ржи (Recursive Solution)
```js
/**
 * @param {any[]} arr
 * @param {number} depth
 * @return {any[]}
 */
var flat = function (arr, depth) {
  const result = [];

  for (const el of arr) {
    if (Array.isArray(el) && depth > 0) {
      result.push(...flat(el, depth - 1));
    } else {
      result.push(el);
    }
  }

  return result;
};

```
### ЁЯза ржзрж╛ржкрзЗ ржзрж╛ржкрзЗ ржмрзНржпрж╛ржЦрзНржпрж╛
| ржзрж╛ржк | ржХрж╛ржЬ                                    | ржЙржжрж╛рж╣рж░ржг                 |
| --- | -------------------------------------- | ---------------------- |
| 1я╕ПтГг | `arr` iterate ржХрж░рж╛ рж╢рзБрж░рзБ                 | `[1, [2, [3, [4]]]]`   |
| 2я╕ПтГг | ржпржжрж┐ ржХрзЛржирзЛ ржЙржкрж╛ржжрж╛ржи array рж╣рзЯ ржПржмржВ depth > 0 | flatten(el, depth - 1) |
| 3я╕ПтГг | ржЕржирзНржпржерж╛рзЯ resultтАУржП ржпрзЛржЧ ржХрж░рзЛ               | `[1, 2, [3, [4]]]`     |
| 4я╕ПтГг | рж╢рзЗрж╖ ржкрж░рзНржпржирзНржд рж╕ржмржЧрзБрж▓рзЛ ржПржХрждрзНрж░рзЗ рж░рж┐ржЯрж╛рж░рзНржи ржХрж░рзЛ  | тЬЕ                      |


### тЪб Iterative рж╕ржорж╛ржзрж╛ржи (Stack ржжрж┐рзЯрзЗ)
```js
var flat = function (arr, depth) {
  const stack = arr.map(item => [item, depth]);
  const res = [];

  while (stack.length > 0) {
    const [curr, d] = stack.pop();
    if (Array.isArray(curr) && d > 0) {
      stack.push(...curr.map(x => [x, d - 1]));
    } else {
      res.push(curr);
    }
  }

  return res.reverse();
};

```
### ЁЯз╛ ржЯрзЗрж╕рзНржЯ ржХрзЗрж╕
```js
console.log(flat([1, [2, [3, [4]]]], 1));
// Output: [1, 2, [3, [4]]]

console.log(flat([1, [2, [3, [4]]]], 2));
// Output: [1, 2, 3, [4]]

console.log(flat([1, [2, [3, [4]]]], 3));
// Output: [1, 2, 3, 4]

console.log(flat([1, [2, [3, [4]]]], 0));
// Output: [1, [2, [3, [4]]]]

```

### ЁЯзй One-liner (Modern ES2023 Syntax)
```js
const flat = (arr, depth) => arr.flat(depth);
```
тЬи Note: ES2023тАУржП .flat(depth) рж╕рж░рж╛рж╕рж░рж┐ ржПржЗ ржХрж╛ржЬржЯрж┐ ржХрж░рзЗ ржжрзЗрзЯред


















