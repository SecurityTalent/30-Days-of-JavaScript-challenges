# ЁЯЪА 2626 тАФ Array Reduce Transformation


## ЁЯФ╣ Array.prototype.reduce() ржХрзА?

reduce() рж╣рж▓ ржЬрж╛ржнрж╛рж╕рзНржХрзНрж░рж┐ржкрзНржЯрзЗрж░ ржПржХржЯрж┐ ржмрж┐рж▓рзНржЯ-ржЗржи ржорзЗржержб ржпрзЗржЯрж╛ ржПржХржЯрж┐ ржЕрзНржпрж╛рж░рзЗржХрзЗ ржПржХржХ ржнрзНржпрж╛рж▓рзБрждрзЗ (рж╕ржВржЦрзНржпрж╛, ржЕржмржЬрзЗржХрзНржЯ, рж╕рзНржЯрзНрж░рж┐ржВ ржЗрждрзНржпрж╛ржжрж┐) тАЬрж░рж┐ржбрж┐ржЙрж╕тАЭ ржХрж░рзЗред

ржПржЯрж┐ ржкрзНрж░рждрж┐ржЯрж┐ ржЙржкрж╛ржжрж╛ржирзЗрж░ ржУржкрж░ ржЖржкржирж╛рж░ ржжрзЗржУржпрж╝рж╛ ржПржХржЯрж┐ рж░рж┐ржбрж┐ржЙрж╕рж╛рж░ ржлрж╛ржВрж╢ржи ржЪрж╛рж▓рж╛ржпрж╝ред
ржкрзНрж░рждрж┐ржЯрж┐ ржзрж╛ржкрзЗ ржПржХржЯрж┐ accumulator (рж╕ржЮрзНржЪрж┐ржд ржорж╛ржи) ржерж╛ржХрзЗ ржпрзЗржЯрж┐ ржЖржкржбрзЗржЯ рж╣ржпрж╝ред

### ЁЯФ╣ рж╕рж┐ржиржЯрзНржпрж╛ржХрзНрж╕
```js
arr.reduce((accumulator, currentValue, index, array) => {
  // ржПржЦрж╛ржирзЗ ржЖржкржбрзЗржЯрзЗржб accumulator рж░рж┐ржЯрж╛рж░рзНржи ржХрж░рждрзЗ рж╣ржмрзЗ
}, initialValue);
```
- accumulator тЖТ ржЖржЧрзЗрж░ ржзрж╛ржкрзЗрж░ ржлрж▓рж╛ржлрж▓ (ржмрж╛ ржкрзНрж░ржержорзЗ initialValue)
- currentValue тЖТ ржЕрзНржпрж╛рж░рзЗрж░ ржмрж░рзНрждржорж╛ржи ржЙржкрж╛ржжрж╛ржи
- index тЖТ ржР ржЙржкрж╛ржжрж╛ржирзЗрж░ ржЗржирзНржбрзЗржХрзНрж╕ (ржРржЪрзНржЫрж┐ржХ)
- array тЖТ ржорзВрж▓ ржЕрзНржпрж╛рж░рзЗ (ржРржЪрзНржЫрж┐ржХ)
- initialValue тЖТ accumulator-ржПрж░ рж╢рзБрж░рзБрж░ ржорж╛ржи

### ЁЯФ╣ ржХрзЗржи ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣ржпрж╝
- рж╕ржВржЦрзНржпрж╛ржЧрзБрж▓рзЛрж░ ржпрзЛржЧржлрж▓ ржмрж╛ ржЧрзБржгржлрж▓ ржмрзЗрж░ ржХрж░рж╛
- ржЕржмржЬрзЗржХрзНржЯ ржмрж╛ ржорзНржпрж╛ржк ржмрж╛ржирж╛ржирзЛ (ржпрзЗржоржи ржлрзНрж░рж┐ржХрзЛржпрж╝рзЗржирзНрж╕рж┐ ржХрж╛ржЙржирзНржЯ)
- nested ржЕрзНржпрж╛рж░рзЗ ржлрзНрж▓рзНржпрж╛ржЯ ржХрж░рж╛
- ржПржХржЗ ржкрж╛рж╕рзЗ filter+map ржХрж░рж╛
- ржбрзЗржЯрж╛ ржЯрзНрж░рж╛ржирзНрж╕ржлрж░ржорзЗрж╢ржи

### ЁЯФ╣ ржЙржжрж╛рж╣рж░ржг рзз тАУ рж╕ржВржЦрзНржпрж╛рж░ ржпрзЛржЧржлрж▓
```js
const numbers = [10, 20, 30, 40];
const sum = numbers.reduce((acc, n) => acc + n, 0);
console.log(sum); // 100

```
### ЁЯФ╣ ржЙржжрж╛рж╣рж░ржг рзи тАУ ржирзЗрж╕рзНржЯрзЗржб ржЕрзНржпрж╛рж░рзЗ ржлрзНрж▓рзНржпрж╛ржЯ ржХрж░рж╛
```js
const nested = [[1,2],[3,4],[5]];
const flat = nested.reduce((acc, arr) => acc.concat(arr), []);
console.log(flat); // [1,2,3,4,5]
```

### ЁЯФ╣ ржЙржжрж╛рж╣рж░ржг рзй тАУ ржлрзНрж░рж┐ржХрзЛржпрж╝рзЗржирзНрж╕рж┐ ржорзНржпрж╛ржк ржмрж╛ржирж╛ржирзЛ
```js
const pets = ['cat','dog','cat','fish','dog'];
const freq = pets.reduce((acc, pet) => {
  acc[pet] = (acc[pet] || 0) + 1;
  return acc;
}, {});
console.log(freq); // { cat: 2, dog: 2, fish: 1 }
```

## Problem Statement  

ржЖржорж╛ржжрзЗрж░ ржПржХржЯрж┐ `reduce` ржлрж╛ржВрж╢ржи рждрзИрж░рж┐ ржХрж░рждрзЗ рж╣ржмрзЗ, ржпрзЗржЯрж┐ ржПржХржЯрж┐ ржЕрзНржпрж╛рж░рзЗ `arr`, ржПржХржЯрж┐ reducer function `fn` ржПржмржВ ржПржХржЯрж┐ `initialValue` ржирзЗржмрзЗред  
ржПржЗ ржлрж╛ржВрж╢ржиржЯрж┐ ржкрзНрж░рждрж┐ржЯрж┐ ржзрж╛ржкрзЗ `fn(accumulator, currentValue, index)` ржЪрж╛рж▓рж┐рзЯрзЗ ржПржХржЯрж┐ ржПржХржХ ржЖржЙржЯржкрзБржЯ ржнрзНржпрж╛рж▓рзБ рж░рж┐ржЯрж╛рж░рзНржи ржХрж░ржмрзЗред

---

## Approaches  

### ЁЯФ╣ 1. Using a `for` loop (classic way)

```javascript
var reduce = function (arr, fn, initialValue) {
  let acc = initialValue;
  for (let i = 0; i < arr.length; i++) {
    acc = fn(acc, arr[i], i);
  }
  return acc;
};
```

### ЁЯФ╣ 2. Using for...of with index

```js
var reduce = function (arr, fn, initialValue) {
  let acc = initialValue;
  for (let [i, val] of arr.entries()) {
    acc = fn(acc, val, i);
  }
  return acc;
};
```
### ЁЯФ╣ 3. Using forEach
```js
var reduce = function (arr, fn, initialValue) {
  let acc = initialValue;
  arr.forEach((val, i) => {
    acc = fn(acc, val, i);
  });
  return acc;
};
```
### ЁЯФ╣ 4. Using recursion
```js
var reduce = function (arr, fn, initialValue, i = 0) {
  if (i >= arr.length) return initialValue;
  const nextAcc = fn(initialValue, arr[i], i);
  return reduce(arr, fn, nextAcc, i + 1);
};
```
### Example Usage
```js
// sum of numbers
console.log(
  reduce([1, 2, 3, 4], (acc, n) => acc + n, 0)
);  
// 10

// concatenate strings
console.log(
  reduce(['a','b','c'], (acc, ch) => acc + ch, '')
);  
// "abc"

// flatten nested array
console.log(
  reduce([[1,2],[3,4],[5]], (acc, arr) => acc.concat(arr), [])
);  
// [1,2,3,4,5]
```
тЬЕ All these implementations produce the same result.


## Key Takeaways
* reduce ржжрж┐рзЯрзЗ ржпрзЗржХрзЛржирзЛ ржзрж░ржирзЗрж░ ржЕрзНржпрж╛ржЧрзНрж░рж┐ржЧрзЗрж╢ржи, ржЯрзНрж░рж╛ржирзНрж╕ржлрж░ржорзЗрж╢ржи, ржмрж╛ ржирждрзБржи рж╕рзНржЯрзНрж░рж╛ржХржЪрж╛рж░ рждрзИрж░рж┐ ржХрж░рж╛ ржпрж╛рзЯред
* Classic loops, higher-order functions ржПржмржВ recursion рж╕ржмржХтАЩржЯрж┐ржЗ ржПржХржЗ ржлрж▓рж╛ржлрж▓ ржжрж┐рждрзЗ ржкрж╛рж░рзЗред
* ржПржЗ ржкрзНржпрж╛ржЯрж╛рж░рзНржиржЧрзБрж▓рзЛ рж╢рж┐ржЦрж▓рзЗ functional programming ржУ array manipulation ржП ржжржХрзНрж╖рждрж╛ ржмрж╛рзЬрзЗред

