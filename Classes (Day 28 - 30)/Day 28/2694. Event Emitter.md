# üß© LeetCode 2694: Event Emitter

## üìò ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶¨‡¶ø‡¶¨‡¶∞‡¶£ (Problem Description)

‡¶§‡ßã‡¶Æ‡¶æ‡¶ï‡ßá ‡¶è‡¶ï‡¶ü‡¶ø **Event Emitter** class ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡¶§‡ßá ‡¶π‡¶¨‡ßá‡•§  
Event Emitter ‡¶π‡¶≤‡ßã ‡¶è‡¶ï‡¶ü‡¶ø design pattern, ‡¶Ø‡¶æ **event‚Äìtriggered programming** ‡¶ï‡ßá ‡¶∏‡¶π‡¶ú ‡¶ï‡¶∞‡ßá‡•§  

- **on(eventName, callback)** ‚Üí ‡¶è‡¶ï‡¶ü‡¶ø callback function ‡¶è‡¶ï‡¶ü‡¶ø event ‡¶è‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶ï‡¶∞‡ßá‡•§  
- **emit(eventName, args)** ‚Üí event trigger ‡¶ï‡¶∞‡¶≤‡ßá, ‡¶∏‡¶¨ callback‚Äì‡¶ó‡ßÅ‡¶≤‡ßã run ‡¶π‡ßü‡•§  
- **off(eventName, callback)** ‚Üí event ‡¶•‡ßá‡¶ï‡ßá ‡¶®‡¶ø‡¶∞‡ßç‡¶¶‡¶ø‡¶∑‡ßç‡¶ü callback remove ‡¶ï‡¶∞‡¶æ‡•§  

---

## üí° Intuition

1. ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ü‡¶ø event‚Äì‡¶è‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶è‡¶ï‡¶ü‡¶ø **callback list** ‡¶∞‡¶æ‡¶ñ‡¶¨‡•§  
2. `on` ‚Üí callback add ‡¶ï‡¶∞‡¶¨‡ßá‡•§  
3. `emit` ‚Üí callback list traverse ‡¶ï‡¶∞‡ßá run ‡¶ï‡¶∞‡¶¨‡ßá‡•§  
4. `off` ‚Üí callback list ‡¶•‡ßá‡¶ï‡ßá remove ‡¶ï‡¶∞‡¶¨‡ßá‡•§  

---

## üßÆ JavaScript ‡¶∏‡¶Æ‡¶æ‡¶ß‡¶æ‡¶®

```javascript
class EventEmitter {
  constructor() {
    // Map eventName -> list of callbacks
    this.events = new Map();
  }

  /**
   * Add listener
   * @param {string} eventName 
   * @param {Function} callback 
   */
  on(eventName, callback) {
    if (!this.events.has(eventName)) {
      this.events.set(eventName, []);
    }
    this.events.get(eventName).push(callback);
  }

  /**
   * Remove listener
   * @param {string} eventName 
   * @param {Function} callback 
   */
  off(eventName, callback) {
    if (!this.events.has(eventName)) return;
    const list = this.events.get(eventName);
    this.events.set(
      eventName,
      list.filter(cb => cb !== callback)
    );
  }

  /**
   * Emit event
   * @param {string} eventName 
   * @param  {...any} args 
   */
  emit(eventName, ...args) {
    if (!this.events.has(eventName)) return;
    for (const cb of this.events.get(eventName)) {
      cb(...args);
    }
  }
}
```

### üß† ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ñ‡ßç‡¶Ø‡¶æ
| ‡¶ß‡¶æ‡¶™ | ‡¶ï‡¶æ‡¶ú                                    | ‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£                    |
| --- | -------------------------------------- | ------------------------- |
| 1Ô∏è‚É£ | `constructor` ‚Üí Map ‡¶§‡ßà‡¶∞‡¶ø               | `this.events = new Map()` |
| 2Ô∏è‚É£ | `on(event, cb)` ‚Üí callback add         | `"click"` ‚Üí `[cb1, cb2]`  |
| 3Ô∏è‚É£ | `off(event, cb)` ‚Üí callback remove     | `"click"` ‚Üí `[cb2]`       |
| 4Ô∏è‚É£ | `emit(event, args...)` ‚Üí callback call | `cb2(args)`               |

### üßæ ‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£
```js
const emitter = new EventEmitter();

function cb1(data) { console.log('cb1', data); }
function cb2(data) { console.log('cb2', data); }

emitter.on("event1", cb1);
emitter.on("event1", cb2);

emitter.emit("event1", 42);
// Output:
// cb1 42
// cb2 42

emitter.off("event1", cb1);
emitter.emit("event1", 100);
// Output:
// cb2 100

```

üîπ Key Points
- Event Emitter ‡¶π‡¶≤‡ßã publish-subscribe pattern‡•§
- ‡¶è‡¶ï‡¶á event multiple callback ‡¶∞‡¶æ‡¶ñ‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶æ ‡¶Ø‡¶æ‡ßü‡•§
- emit ‡¶ï‡¶∞‡¶≤‡ßá ‡¶∏‡¶¨ callback sequentially run ‡¶π‡ßü‡•§
- off ‡¶¶‡¶ø‡ßü‡ßá callback remove ‡¶ï‡¶∞‡¶æ ‡¶Ø‡¶æ‡ßü‡•§
